{% extends "blog/base.html" %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
    <article class="flex max-w-xl flex-col items-start justify-between">
        <h2 class="font-bold text-2xl text-gray-900 leading-9 mt-3">{{post.title}}</h2>
        <p class="text-sm my-2 text-gray-500">
            By {{post.author.username}} | Published on {{ post.publish }}
        </p>
        <div class="mt-5 py-3 my-3 text-sm leading-6 text-gray-600">
            {{ post.body|linebreaks }}
        </div>
        <div class="my-5">
            <a href="{% url 'blog:post_list' %}">&larr; Back to post list</a>
        </div>
        <div class="my-5 border-t border-gray-200 justify-between flex pt-4 items-center w-full">
            <h3>Tags:
                {% if post.tags.all is not None %}
                    {% for tag in post.tags.all %}
                         <a class="relative z-10 rounded-full bg-gray-50 px-3 py-1.5 font medium text-gray-600 hover:bg-gray-100" href="#">
                            {{post.tags}}
                         </a>
                    {% endfor %}
                {% endif %}
            </h3>
            <a href="{% url 'blog:post_share' year=post.publish.year month=post.publish.month day=post.publish.day post=post.slug %}" class="border py-2 rounded-lg px-2 border-grey-200 font-bold text-xs hover:bg-gray-100">Share this post via email</a>
        </div>
        <div>
            <h3 class="font-bold text-s text-gray-900">Comments</h3>
           {% if post.comments.all is not None %}
                 {% for comment in post.comments.all %}
            <div class="my-2">
                <p class="font-bold text-s">{{ comment.name }} said:</p>
                <p class="font-semi-bold text-s">{{ comment.body }}</p>
                <p class="text-xs text-grey-600">Posted on {{ comment.created }}</p>
            </div>
                {% endfor %}
            {% endif %}
            <div class="add-comment">
                {% include "blog/post/comment_form.html" %}
            </div>
        </div>
    </article>
{% endblock %}